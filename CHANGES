===== 20211215 =====
released December 15, 2021

* removed tools (issue: #363)
- tftpd: removing commit: 341975a, PR: #369
  replacement:
  - tftp-hpa (https://git.kernel.org/pub/scm/network/tftp/tftp-hpa.git)
  - dnsmasq (https://thekelleys.org.uk/dnsmasq/doc.html)
- traceroute6: removing commit: a139421, PR: #362
  replacement:
  - mtr (https://www.bitwizard.nl/mtr/)
  - traceroute (http://traceroute.sourceforge.net/)
  - tracepath (https://github.com/iputils/iputils/blob/master/tracepath.c)

  WARNING: More tools (ninfod, rarpd, rdisc) are going to be removed in next
  release, see https://github.com/iputils/iputils/issues/363

* Meson build system
- require version 0.40 (due multiple install_dir for custom_target; commit: 65941ab)

* arping
- fix: ARP protocol field for AX.25 and NETROM (PR: #360)

* clockdiff
- fix man: remove duplicated word (PR: #384)

* ninfod
- fix: build with -DNINFOD_MESSAGES=false (commit: a0b3917)
- systemd unit: add ProtectHostname, ProtectKernelLogs (PR: #375)

* ping
- fix: remove 'unsupported IPv6' warning on disabled IPv6 (issue: #293, PR: #370)
- fix: ping6 binding to VRF and address (PR: #344)
- fix: print reply from Subnet-Router anycast address (issue: #371)
- fix: print reply with wrong source with warning (issue: #371)
- fix: set mark (SO_MARK) on probe socket (PR: #340)
- fix: man: update lowered minimum ping interval (PR: #367)
- fix: mark is unsigned int, not signed (PR: #345)

* rarpd
- systemd unit: add ProtectHostname, ProtectKernelLogs (PR: #375)

* rdisc
- systemd unit: add ProtectHostname, ProtectKernelLogs (PR: #375)

* localization
- fix: add missing cs, id, ko languages (commit: be8f704)
- new translations: Finnish, Korean
- updated translations: German, Japanese, Turkish, Ukrainian

* CI
- add build with some non-default options (commit: c4a5373)
- remove Tumbleweed (not only ocassional bugs: 086de3c, b19df68, but the way
  how repos are published often breaks using it)
- add latest CentOS (currently CentOS 8, commit: 5f3711e)

* tests
- add -V test for all binaries (commit: 802fade)
- make tests optional with -DSKIP_TESTS=true (PR: #359)

===== 20210722 =====
released July 22, 2021

* Meson build system
- enable NO_SETCAP_OR_SUID by default

* clockdiff
- fix missing new line

* ping
- lower minimal interval for flooding to 2 (issue: #317)
- revert f7710a1 ("Add strict pattern matching on response when pattern was
  provided") to fix broken report of truncated packets (issue: #320, PR: #331)

* rdisc
- systemd unit: remove PrivateUsers=yes from systemd service file (issue: #314)
- systemd unit: support /etc/default/rdisc environment file (for Debian, PR: #356)
- systemd unit: Add DynamicUser=yes (PR: #358)
- systemd unit: add CAP_NET_ADMIN capability (PR: #351)
- Add support for capability/setuid (PR: #347, #348) NOTE: This is strongly
  discouraged as normal uses could possibly modify routing tables, recommended
  way is to run it as systemd service which does not require it to be enabled.
  It's added just for non-systemd users, which should run allow it to run just
  for dedicated user.
- set correct caps in setcap-setuid.sh

* traceroute6
- mention -V in usage() (PR: #323)

* localization
- new translations: Czech (100%), Indonesian (94%)
- updated translations: Portuguese (Brazil, 95%), Indonesian (94%), French:
  (58%), Chinese (Simplified, 53%)
- fully translated languages in this release: Czech, Turkish, Ukrainian

* CI
- migrate from Travis CI to GitHub Actions (PR: #336)
- add very basic ping testing (issue: #338, PR: #243)
- skip tests on Ubuntu Xenial (commit: 9833cae)
- various build.sh improvements

* tests
- skip tests on disabled IPv6 (commit: f10bfd8)
- fix: flood ping test should pass on root (commit: 3dff080)

===== 20210202 =====
released February 2, 2021

* version scheme change: dropped leading 's' (issue: #269)

* Meson build system
- new variable INSTALL_SYSTEMD_UNITS forces installing systemd units even if
  systemd is not installed on build host (PR: #297)

* all
- fix infinite loop when getrandom fails (issue: #291)

* arping
- make update neighbours work again (issue: 298)

* ping
- fix dead loop problem (issue: #276)
- process interrupts in ping*_receive_error_msg (commit: 2583fb7)
- restore -W 0 as infinite timeout (issue: #290, PR: #306)
- man: fix formatting (commit: b1ebe35)

* tftpd:
- fix: recvfile: avoid closing the file twice (PR: #311)
- fix: install into sbindir: the xinet.d config expects the daemon to live
  in sbin (PR: #310)

* localization
- update POTFILES and iputils.pot (PR: #280)
- updated translations: Portuguese (Brazil) (86%), French (55%),
  Japanese (rebased after PR: #280)

* Travis CI
- Use Ubuntu 20.10 groovy instead of Eoan

===== s20200821 =====
released August 21, 2020

* incompatible changes
Handling numeric options changed
- ping: use '.' (dot) as a decimal separator regardless locale (for -i/-W
  options). Since s20121121 till s20190709 decimal separator for -i option
  depended on locales ($LC_NUMERIC), but only when compiled with USE_IDN=yes.
  (issue #290, commit: d865d4c, 1530bc9)
- ping: temporarily allow -i option to contain trailing non-numeric characters.
  Previously only -W option allowed this (non-numeric characters were silently
  discharged), now both -i/-W print warning. This will become fatal error in
  the future. (issue: #236, #290, commit: 562e0d5)

* arping
- [security] disable setcap and setuid (prevent ARP Poisoning, issue: #203)
- fix wrong exit code for -D option (issue: #209, originally reported:
  https://github.com/void-linux/void-packages/issues/13304)
- fix -f quit on first reply (issue: #211, originally reported:
  https://bugs.debian.org/935946)
- do not fail when unsolicited ARP mode destination does not answer when use -U
  or -A  (issue: #247)

* clockdiff
- add timeformat options: -T/--time-format <ctime|iso> and -I (alias for
  --time-format=iso)
- use strftime() instead of deprecated ctime_r() (commit: d6e1d77)

* ninfod
- fix build with libcap 2.29 (issue: #246)
- fix struct qtypeinfo packing (commit: f0a6348)

* ping
- [security] use random value for the identifier field instead of PID when using
  SOCK_RAW socket
- allow user to specify VRF and source IP (commit: 9e08707)
- try next addrinfo on connect failure (fixes reachability when getaddrinfo()
  returns IPv6 results first on hosts with only IPv4 routes available, commit:
  2705c82, c249e48)
- fix IPv6 name resolution for hostnames with link-local addresses (commit: d217170)
- fix print gateway IP on little endian architectures on IPPROTO_ICMP sockets
  (commit: e2e9a2d)
- discard packets with wrong source address (comply RFC 1122, commit: 5e052ad)
- suppress duplicate reply messages when ping multicast (issue: #195,
  originally reported: https://bugs.debian.org/498429)
- allow any package size (-s) to be defined by user (issue: #210)
- use C locale for parsing -i/-W options without IDN (commit: d865d4c)
- yet another fix for round-trip time (RTT) (commit: 5b6c194, never ending
  story, see issue: #232)
- reintroduce support of flow label for very old systems (issue: #268,
  regression: s20190324, originally reported: https://bugs.debian.org/682511,
  https://src.fedoraproject.org/rpms/iputils/blob/0bbd37701742cc6da0e91f6cc5ba6cf6a522fca2/f/iputils-20100418-flowlabel.patch,
  originally fixes in fed7e6306f37a18 from November 2012)
- fix IPv6 error handling for old kernels without ping socket (regression: s20161105)
- move sources subdirectory (affects built binary location)

* rdisc
- report in --version whether compiled with server support

* tftpd
- stop building by default (use dnsmasq instead)
- add example xinetd file
- move sources subdirectory (affects built binary location)

* localization
- new translations: Ukrainian (100%), Turkish (100%), German (53%), French
  (40%), Portuguese (Brazil) (43%), Chinese (Simplified, zh_CN) (38%)
- updated: Japanese (84%)
- starting to manage translations via Fedora's Weblate
  https://translate.fedoraproject.org/projects/iputils/iputils/
  (issue: #271)

* general cleanup (across code)
- add md5 implementation to avoiding linking to crypto libraries, or expect
  kernel api to provide md5 functionality (issue: #239)
- use clock_gettime() rather gettimeofday() (issue: #213, #214, #215)
- use CLOCK_MONOTONIC instead of CLOCK_MONOTONIC_RAW
- various fixes discovered via LGTM scan and clang-tidy (missing includes,
  incorrect types and declarations, etc)
- man pages spelling fixes
- refactoring

* Meson build system
- Allow to set using setcap-setuid.sh per application (commit: 054670a)
- fix build for non-systemd builds
- don't require xsltproc any more (instead skip building man and html)
- fix static build with libidn2

* Travis CI
- switch to docker based builds to tests on different distro releases,
  including cross-compilation and musl libc (issue: #169)
